# 📁 项目文件说明

## 🎯 打包相关文件

### 核心配置文件
- **`telegram_monitor.spec`** - PyInstaller 打包配置（最重要的文件）
- **`build_exe.py`** - 打包辅助脚本
- **`requirements.txt`** - Python 依赖（已添加 PyInstaller）

### GitHub Actions 自动打包
- **`.github/workflows/build-windows.yml`** - Windows EXE 自动打包配置
- **`.github/workflows/build-macos.yml`** - macOS 可执行文件自动打包配置

### 打包脚本
- **`quick-deploy.sh`** - 一键提交并触发自动打包（推荐使用）
- **`docker-build.sh`** - Docker 打包脚本（仅打包当前平台）

### 说明文档
- **`快速打包指南.md`** - 详细的操作步骤
- **`打包说明.md`** - 打包技术说明
- **`打包解决方案.md`** - 所有打包方案对比
- **`使用说明.md`** - 使用指南
- **`文件说明.md`** - 本文件

## 📍 文件位置说明

### 打包前的配置文件位置
```
/Users/yczhong/Code/xiaozong/tg/
├── telegram_monitor.spec       # PyInstaller 配置
├── build_exe.py                 # 本地打包脚本
├── quick-deploy.sh              # 一键部署脚本 ⭐️
├── .github/workflows/
│   ├── build-windows.yml        # Windows EXE 自动打包
│   └── build-macos.yml         # macOS 自动打包
└── 快速打包指南.md              # 操作说明 ⭐️
```

### 打包后的 EXE 文件位置

#### 方法 1：GitHub Actions 自动打包
打包完成后，EXE 文件在：
- **GitHub Releases 页面**
- URL：`https://github.com/你的用户名/tg/releases/tag/v1.0.0`
- 文件名：`TelegramMonitor.exe`

#### 方法 2：本地打包（仅当前平台）
如果使用 `python build_exe.py` 或 `./docker-build.sh`：
- 文件位置：`dist/TelegramMonitor`
- 完整路径：`/Users/yczhong/Code/xiaozong/tg/dist/TelegramMonitor`

## 🚀 如何开始

### 最简单的方法（推荐）

1. **运行一键部署脚本**
```bash
./quick-deploy.sh
```

这个脚本会自动：
- 检查更改
- 提交代码
- 创建 tag
- 推送到 GitHub
- 触发 Windows EXE 自动打包

2. **等待 5-10 分钟**

3. **下载 EXE**
访问 GitHub Releases 下载 `TelegramMonitor.exe`

### 手动步骤

如果你想手动操作：

```bash
# 1. 提交代码
git add .
git commit -m "Add PyInstaller build configuration"
git push origin main

# 2. 创建 tag
git tag v1.0.0
git push origin v1.0.0

# 3. 等待打包完成
# 访问：https://github.com/你的用户名/tg/actions

# 4. 下载 EXE
# 访问：https://github.com/你的用户名/tg/releases
```

## 📦 需要的文件

### 运行时需要的文件
打包后的 EXE 文件会自动包含：
- ✅ 所有 Python 依赖（FastAPI, Telethon 等）
- ✅ HTML 模板文件
- ✅ PyInstaller 引导程序

### 可选文件
这些文件不会自动打包，需要单独提供：
- `api_config.json` - API 配置（可以在程序界面中输入）
- `telegram_session.session` - Telegram 会话文件（首次运行后自动生成）

## 🎯 快速开始

### 现在就做

```bash
# 1. 确保在项目目录
cd /Users/yczhong/Code/xiaozong/tg

# 2. 运行一键部署脚本
./quick-deploy.sh

# 3. 按照提示操作即可
```

### 打包完成后

1. ✅ 在 GitHub Releases 下载 EXE
2. ✅ 复制到 Windows 电脑
3. ✅ 双击运行 `TelegramMonitor.exe`
4. ✅ 浏览器访问 `http://localhost:8000`

## 📝 所有文件的用途

### 用户需要关注的文件
| 文件 | 用途 | 是否必需 |
|------|------|---------|
| `quick-deploy.sh` | 一键部署脚本 | ⭐️ 推荐 |
| `快速打包指南.md` | 操作说明 | 📖 参考 |
| `.github/workflows/build-windows.yml` | 自动打包配置 | ✅ 必须 |
| `telegram_monitor.spec` | PyInstaller 配置 | ✅ 必须 |

### 自动生成的文件（打包后）
| 位置 | 文件名 | 平台 |
|------|--------|------|
| GitHub Releases | `TelegramMonitor.exe` | Windows |
| `dist/` 目录 | `TelegramMonitor` | macOS/Linux |

## 💡 提示

### 找不到文件？

1. **查看当前目录**
```bash
pwd
ls -la
```

2. **确认文件存在**
```bash
ls telegram_monitor.spec
ls quick-deploy.sh
ls .github/workflows/
```

3. **查看文件内容**
```bash
cat 快速打包指南.md
cat quick-deploy.sh
```

### 需要帮助？

查看以下文档：
- 📖 `快速打包指南.md` - 详细操作步骤
- 📖 `打包说明.md` - 技术细节
- 📖 `打包解决方案.md` - 所有方案对比

## 🎉 完成

所有文件都已准备好，现在只需运行：

```bash
./quick-deploy.sh
```

然后等待 GitHub 自动打包完成即可！

